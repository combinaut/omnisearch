class Physician
  class SearchIndex
    include OmniSearch::Indexes::Builder::Plain

    def index_name
      'physician'
    end

    def collection
      ['a', 'b']
    end

    def record_template(item)
      {:french => 'fries'}
    end

  end
end

class Service
  class SearchIndex
    include OmniSearch::Indexes::Builder::Plain

    def index_name
      'service'
    end

    def collection
      ['a', 'b']
    end

    def record_template(item)
      {:tube => 'steak'}
    end

  end
end

class Location
  class SearchIndex
    include OmniSearch::Index::Builder::Plain

    def index_name
      'location'
    end

    def collection
      ['a', 'b']
    end

    def record_template(item)
      {:cotton => 'candy'}
    end

  end
end



dex = OmniSearch::PlainIndexes
dex.build
p a = OmniSearch::PlainIndexes.list.first
p a.index_name
p a.build_records
p a.build
p 'loaded'
p a.file.load
p OmniSearch::PlainIndexes.new.contents



